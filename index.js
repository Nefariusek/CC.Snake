!function(t){var e={};function i(s){if(e[s])return e[s].exports;var l=e[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)i.d(s,l,function(e){return t[e]}.bind(null,l));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);const s=new Image;s.src="/src/snake-img/head-left.png";const l=new Image;l.src="/src/snake-img/head-right.png";const h=new Image;h.src="/src/snake-img/head-up.png";const r=new Image;r.src="/src/snake-img/head-down.png";const a=new Image;a.src="/src/snake-img/tail.png";const n=1.2;var o=class{constructor(t,e){this.x=t,this.y=e,this.speed=3,this.cell=20,this.direction=null,this.prevDirection=null,this.tailLength=0,this.tail=[]}draw(){for(let t=0;t<this.tail.length-1;t++)rt.drawImage(a,this.tail[t].x,this.tail[t].y,this.cell*n,this.cell*n);"LEFT"===this.direction?rt.drawImage(s,this.tail[this.tail.length-1].x,this.tail[this.tail.length-1].y,this.cell*n,this.cell*n):"RIGHT"===this.direction?rt.drawImage(l,this.tail[this.tail.length-1].x,this.tail[this.tail.length-1].y,this.cell*n,this.cell*n):"UP"===this.direction?rt.drawImage(h,this.tail[this.tail.length-1].x,this.tail[this.tail.length-1].y,this.cell*n,this.cell*n):"DOWN"===this.direction?rt.drawImage(r,this.tail[this.tail.length-1].x,this.tail[this.tail.length-1].y,this.cell*n,this.cell*n):rt.drawImage(l,this.tail[this.tail.length-1].x,this.tail[this.tail.length-1].y,this.cell*n,this.cell*n)}setDirection(t){this.direction=t}setprevDirection(t){this.prevDirection=t}expandSnake(){this.tailLength++}move(){this.direction&&("LEFT"===this.direction?this.x-=this.speed:"RIGHT"===this.direction?this.x+=this.speed:"UP"===this.direction?this.y-=this.speed:"DOWN"===this.direction&&(this.y+=this.speed))}onHit(t,e){let i=e.wallsCircle.concat(t.wallsRect);if(this.x<0||this.y<0||this.x+this.cell>at||this.y+this.cell>nt)return!0;let s=Math.ceil(3*this.cell/this.speed);for(let t=0;t<this.tailLength-s;t++){if("UP"===this.prevDirection&&("LEFT"===this.direction||"RIGHT"===this.direction)){if(this.x>this.tail[t].x&&this.x<this.tail[t].x+this.cell&&this.y>this.tail[t].y&&this.y<this.tail[t].y+this.cell)return!0;if(this.x+this.cell>this.tail[t].x&&this.x+this.cell<this.tail[t].x+this.cell&&this.y>this.tail[t].y&&this.y<this.tail[t].y+this.cell)return!0}if("DOWN"===this.prevDirection&&("LEFT"===this.direction||"RIGHT"===this.direction)){if(this.x>this.tail[t].x&&this.x<this.tail[t].x+this.cell&&this.y+this.cell>this.tail[t].y&&this.y+this.cell<this.tail[t].y+this.cell)return!0;if(this.x+this.cell>this.tail[t].x&&this.x+this.cell<this.tail[t].x+this.cell&&this.y+this.cell>this.tail[t].y&&this.y+this.cell<this.tail[t].y+this.cell)return!0}if("RIGHT"===this.prevDirection&&("UP"===this.direction||"DOWN"===this.direction)){if(this.x+this.cell>this.tail[t].x&&this.x+this.cell<this.tail[t].x+this.cell&&this.y>this.tail[t].y&&this.y<this.tail[t].y+this.cell)return!0;if(this.x+this.cell>this.tail[t].x&&this.x+this.cell<this.tail[t].x+this.cell&&this.y+this.cell>this.tail[t].y&&this.y+this.cell<this.tail[t].y+this.cell)return!0}if("LEFT"===this.prevDirection&&("UP"===this.direction||"DOWN"===this.direction)){if(this.x>this.tail[t].x&&this.x<this.tail[t].x+this.cell&&this.y>this.tail[t].y&&this.y<this.tail[t].y+this.cell)return!0;if(this.x>this.tail[t].x&&this.x<this.tail[t].x+this.cell&&this.y+this.cell>this.tail[t].y&&this.y+this.cell<this.tail[t].y+this.cell)return!0}}for(let t=0;t<i.length;t++)if("rect"===i[t].type){if(this.x>i[t].x&&this.x<i[t].x+i[t].length&&this.y>i[t].y&&this.y<i[t].y+i[t].height)return!0;if(this.x+this.cell>i[t].x&&this.x+this.cell<i[t].x+i[t].length&&this.y>i[t].y&&this.y<i[t].y+i[t].height)return!0;if(this.x>i[t].x&&this.x<i[t].x+i[t].length&&this.y+this.cell>i[t].y&&this.y+this.cell<i[t].y+i[t].height)return!0;if(this.x+this.cell>i[t].x&&this.x+this.cell<i[t].x+i[t].length&&this.y+this.cell>i[t].y&&this.y+this.cell<i[t].y+i[t].height)return!0}else{let e;if((e=(this.x-i[t].x)**2+(this.y-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x+this.cell-i[t].x)**2+(this.y-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x-i[t].x)**2+(this.y+this.cell-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x+this.cell-i[t].x)**2+(this.y+this.cell-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x+this.cell/2-i[t].x)**2+(this.y-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x+this.cell/2-i[t].x)**2+(this.y+this.cell-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x+this.cell-i[t].x)**2+(this.y+this.cell/2-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x-i[t].x)**2+(this.y+this.cell/2-i[t].y)**2)<=i[t].radius**2)return!0}return!1}tailMove(){for(let t=0;t<this.tail.length-1;t++)this.tail[t]=this.tail[t+1];this.tail[this.tailLength]={x:this.x,y:this.y}}};class c{constructor(t,e){this.x=t,this.y=e,this.length=100,this.height=40,this.radius=this.height/2,this.time=null,this.upperRow=nt/3,this.bottomRow=2*nt/3,this.wallsRect=[],this.type="rect"}drawRect(){rt.fillStyle="black",rt.fillRect(this.x,this.y,this.length,this.height)}addWallsRect(){return this.wallsRect.push(new c(5*at/12,this.upperRow)),this.wallsRect.push(new c(9.5*at/12+3*this.radius,this.upperRow)),this.wallsRect.push(new c(2.5*at/12,this.bottomRow)),this.wallsRect.push(new c(2.5*at/12+this.length+6*this.radius,this.bottomRow)),this.wallsRect}addWallsRect_level2(){return this.upperRow=nt/5,this.wallsRect.push(new c(1.5*at/12+3*this.radius,this.upperRow)),this.wallsRect.push(new c(7*at/12,this.upperRow)),this.wallsRect.push(new c(7*at/12+this.length+6*this.radius,this.upperRow)),this.wallsRect.push(new c(1.5*at/12,this.upperRow+nt/5)),this.wallsRect.push(new c(1.5*at/12+this.length+3*this.radius,this.upperRow+nt/5)),this.wallsRect.push(new c(7*at/12+7*this.radius,this.upperRow+nt/5)),this.wallsRect.push(new c(at/12-this.radius,this.upperRow+2*nt/5)),this.wallsRect.push(new c(at/12+this.length+2*this.radius,this.upperRow+2*nt/5)),this.wallsRect.push(new c(5.5*at/12,this.upperRow+2*nt/5)),this.wallsRect.push(new c(5.5*at/12+this.length+2*this.radius,this.upperRow+2*nt/5)),this.wallsRect.push(new c(5.5*at/12+2*this.length+8*this.radius,this.upperRow+2*nt/5)),this.wallsRect.push(new c(6*at/12+3*this.radius,this.upperRow+3*nt/5)),this.wallsRect.push(new c(6*at/12+11*this.radius,this.upperRow+3*nt/5)),this.wallsRect}addWallsRect_level3(){return this.upperRow=nt/5,this.wallsRect.push(new c(at/12,this.upperRow)),this.wallsRect.push(new c(at/12+11*this.radius,this.upperRow)),this.wallsRect.push(new c(7.5*at/12,this.upperRow)),this.wallsRect.push(new c(1.5*at/12+3*this.radius,this.upperRow+nt/5)),this.wallsRect.push(new c(.5*at/12,this.upperRow+2*nt/5)),this.wallsRect.push(new c(.5*at/12+11*this.radius,this.upperRow+2*nt/5)),this.wallsRect.push(new c(8*at/12,this.upperRow+2*nt/5)),this.wallsRect.push(new c(8*at/12+this.length+3*this.radius,this.upperRow+2*nt/5)),this.wallsRect.push(new c(3.5*at/12+3*this.radius,this.upperRow+3*nt/5)),this.wallsRect.push(new c(3.5*at/12+11*this.radius,this.upperRow+3*nt/5)),this.wallsRect}drawWalls(){let t=0;for(;t<this.wallsRect.length;t++)"rect"===this.wallsRect[t].type&&(rt.beginPath(),this.wallsRect[t].drawRect(),rt.closePath());t=0}drawText(){rt.font="300px bold serif",rt.fillText("S",at/12,nt/2.5),rt.fillText("N",5*at/12,nt/2.5),rt.fillText("A",9*at/12,nt/2.5),rt.fillText("K",3*at/12,2.2*nt/2.5),rt.fillText("E",7*at/12,2.2*nt/2.5)}async wallsChange(){var t;console.log("dziala"),await(t=1e4,new Promise(e=>setTimeout(e,t))),console.log("po 10s")}}var u=c;class p extends u{constructor(t,e){super(t,e),this.length=length,this.radius=this.height/2,this.upperRowCircle=this.upperRow+this.radius,this.bottomRowCircle=this.bottomRow+this.radius,this.wallsCircle=[],this.type="circl"}drawCirc(){rt.fillStyle="black",rt.arc(this.x,this.y,this.radius,0,2*Math.PI),rt.fill()}addWallsCircle(){return this.wallsCircle.push(new p(at/12,this.upperRowCircle)),this.wallsCircle.push(new p(at/12+4*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(at/12+8*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(at/12+8*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(5*at/12+this.length+3*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(9.5*at/12,this.upperRowCircle)),this.wallsCircle.push(new p(2.5*at/12+this.length+3*this.radius,this.bottomRowCircle)),this.wallsCircle.push(new p(8.5*at/12,this.bottomRowCircle)),this.wallsCircle}addWallsCircle_level2(){return this.upperRow=nt/5,this.upperRowCircle=this.upperRow+this.radius,this.wallsCircle.push(new p(1.5*at/12,this.upperRowCircle)),this.wallsCircle.push(new p(1.5*at/12+11*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(1.5*at/12+15*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(7*at/12+8*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(7*at/12,this.upperRowCircle+nt/5)),this.wallsCircle.push(new p(7*at/12+4*this.radius,this.upperRowCircle+nt/5)),this.wallsCircle.push(new p(7*at/12+15*this.radius,this.upperRowCircle+nt/5)),this.wallsCircle.push(new p(5.5*at/12+15*this.radius,this.upperRowCircle+2*nt/5)),this.wallsCircle.push(new p(1.5*at/12,this.upperRowCircle+3*nt/5)),this.wallsCircle.push(new p(1.5*at/12+4*this.radius,this.upperRowCircle+3*nt/5)),this.wallsCircle.push(new p(1.5*at/12+8*this.radius,this.upperRowCircle+3*nt/5)),this.wallsCircle.push(new p(6*at/12,this.upperRowCircle+3*nt/5)),this.wallsCircle.push(new p(6*at/12+2*this.length+19*this.radius,this.upperRowCircle+3*nt/5)),this.wallsCircle}addWallsCircle_level3(){return this.upperRow=nt/5,this.upperRowCircle=this.upperRow+this.radius,this.wallsCircle.push(new p(at/12+8*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(at/12+19*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(7.5*at/12+8*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(7.5*at/12+12*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(1.5*at/12,this.upperRowCircle+nt/5)),this.wallsCircle.push(new p(1.5*at/12+this.length+11*this.radius,this.upperRowCircle+nt/5)),this.wallsCircle.push(new p(8*at/12,this.upperRowCircle+nt/5)),this.wallsCircle.push(new p(8*at/12+4*this.radius,this.upperRowCircle+nt/5)),this.wallsCircle.push(new p(8*at/12+8*this.radius,this.upperRowCircle+nt/5)),this.wallsCircle.push(new p(.5*at/12+8*this.radius,this.upperRowCircle+2*nt/5)),this.wallsCircle.push(new p(.5*at/12+19*this.radius,this.upperRowCircle+2*nt/5)),this.wallsCircle.push(new p(3.5*at/12,this.upperRowCircle+3*nt/5)),this.wallsCircle.push(new p(3.5*at/12+2*this.length+19*this.radius,this.upperRowCircle+3*nt/5)),this.wallsCircle}drawWalls(){let t=0;for(;t<this.wallsCircle.length;t++)"circl"===this.wallsCircle[t].type&&(rt.beginPath(),this.wallsCircle[t].drawCirc(),rt.closePath());t=0}}var w=p;function d(t){return new Promise(e=>setTimeout(e,t))}var g=class{constructor(t,e,i,s,l){this.x=t,this.y=e,this.size=i,this.snake=s,this.foodManager=l,this.toRemove=0}draw(){rt.drawImage(this.img,this.x,this.y,this.size,this.size)}async eat(t){console.log("".concat(this.name," eaten")),this.eatFood();for(var e=0;e<t;e++)this.snake.expandSnake(),await d(150)}async doubleMultiplier(){this.foodManager.multiplier*=2,console.log(this.foodManager.multiplier),await d(1e4),this.foodManager.multiplier/=2}async irregularMove(){for(var t=0;t<20;t++)this.snake.speed*=2,await d(250),this.snake.speed/=2,await d(250)}splitSnake(){let t;t=1===this.snake.tailLength?0:this.snake.tailLength/2;for(var e=0;e<t;e++)this.snake.tail.shift(),this.snake.tailLength--}};const m=new Image;m.src="/src/foods/img/redApple.png";var f=class extends g{constructor(t,e,i,s,l){super(t,e,i,s,l),this.img=m,this.name="Normal Food"}eatFood(){}};const y=new Image;y.src="/src/foods/img/greenApple.png";var x=class extends g{constructor(t,e,i,s,l){super(t,e,i,s,l),this.img=y,this.name="Combo Food"}async eatFood(){this.foodManager.recentlyEaten.every(t=>"Combo Food"===t.name)&&this.doubleMultiplier()}};const R=new Image;R.src="/src/foods/img/goldenApple.png";var C=class extends g{constructor(t,e,i,s,l){super(t,e,i,s,l),this.img=R,this.name="Super Food"}eatFood(){this.foodManager.maxFoodCount++}};const v=new Image;v.src="/src/foods/img/rottenApple.png";var I=class extends g{constructor(t,e,i,s,l){super(t,e,i,s,l),this.img=v,this.name="Weakening Food"}async eatFood(){this.irregularMove()}};const k=new Image;k.src="/src/foods/img/pinkApple.png";var T=class extends g{constructor(t,e,i,s,l){super(t,e,i,s,l),this.img=k,this.name="Split Food"}async eatFood(){this.splitSnake()}};var S=class{constructor(t,e,i,s){this.foodOnMap=[],this.recentlyEaten=[new f(0,0,0),new f(0,0,0),new f(0,0,0)],this.maxFoodCount=3,this.foodSize=t,this.multiplier=1,this.snake=e,this.wallsRect=i,this.wallsCircle=s,this.refreshFood()}headEat(){this.foodOnMap=this.foodOnMap.filter(t=>!(t.x+6<=this.snake.x+this.snake.cell&&t.x+t.size-6>=this.snake.x&&t.y+6<=this.snake.y+this.snake.cell&&t.y+t.size-6>=this.snake.y)||(this.recentlyEaten.shift(),this.recentlyEaten.push(t),t.eat(this.multiplier),!1))}placeApple(){let t,e;do{t=Math.floor(Math.random()*(at-this.foodSize)),e=Math.floor(Math.random()*(nt-this.foodSize))}while(this.wallsRect.some(i=>t+this.foodSize+5>i.x&&t<i.x+i.length+5&&e+this.foodSize+5>i.y&&e<i.y+i.height+5)||this.wallsCircle.some(i=>t+this.foodSize+5>i.x-i.radius&&t<i.x+i.radius+5&&e+this.foodSize+5>i.y-i.radius&&e<i.y+i.radius+5));let i=Math.floor(100*Math.random());i<42?this.foodOnMap.push(new f(t,e,this.foodSize,this.snake,this)):i<84?this.foodOnMap.push(new x(t,e,this.foodSize,this.snake,this)):i<94?this.foodOnMap.push(new I(t,e,this.foodSize,this.snake,this)):i<97?this.foodOnMap.push(new C(t,e,this.foodSize,this.snake,this)):this.foodOnMap.push(new T(t,e,this.foodSize,this.snake,this))}foodGenerator(){this.foodOnMap.length<this.maxFoodCount&&this.placeApple()}drawFood(){this.foodOnMap.forEach(t=>{t.draw()})}async refreshFood(){this.foodOnMap.splice(0,1);let t=Math.floor(1e4*Math.random());var e;await(e=7500+t,new Promise(t=>setTimeout(t,e))),this.refreshFood()}manageFood(){this.headEat(),this.foodGenerator(),this.drawFood()}};let M=new Audio;M.src="../src/menu-img/audio.mp3";let L,b,F=!1,E=new Audio;E.src="../src/menu-img/rattlesnake.mp3";let D="Gamer",P=!0,O=new Image,W=new Image,z=new Image,A=new Image,_=new Image,j=new Image,G=new Image,H=new Image;O.src="../src/menu-img/background.jpg",W.src="../src/menu-img/logo.png",z.src="../src/menu-img/play.png",A.src="../src/menu-img/settings.png",_.src="../src/menu-img/credits.png",j.src="../src/menu-img/play-active.png",G.src="../src/menu-img/settings-active.png",H.src="../src/menu-img/credits-active.png";let q=[384,298,320],N=[300,380,460],V=[192,364,320],U=[80,80,80],B=[!1,!1,!1];const K=t=>{L=t.pageX-ht.getBoundingClientRect().left,b=t.pageY-ht.getBoundingClientRect().top;for(let t=0;t<q.length;t++)B[t]=L>q[t]&&L<q[t]+V[t]&&(b>N[t]+20&&b<N[t]+U[t]-10)},X=()=>{for(let t=0;t<q.length;t++)L>q[t]&&L<q[t]+V[t]&&b>N[t]+20&&b<N[t]+U[t]-10&&(B[0]&&(console.log("play"),P=!1,ht.removeEventListener("mousemove",K),ht.removeEventListener("mouseup",X)),B[1]&&(console.log("settings"),$()),B[2]&&(console.log("credits"),tt()))};let Y=document.querySelector(".modalSettings"),J=document.querySelector(".close-button-settings"),Q=document.querySelector(".modalCredits"),Z=document.querySelector(".close-button-credits");const $=()=>{Y.classList.toggle("show-modal"),D=document.getElementById("playerName").value},tt=()=>{Q.classList.toggle("show-modal")},et=t=>{P=t};J.addEventListener("click",$),Z.addEventListener("click",tt),window.addEventListener("click",t=>{t.target===Y&&$(),t.target===Q&&tt()});let it=!1,st=!1,lt=!1;i.d(e,"canvas",(function(){return ht})),i.d(e,"ctx",(function(){return rt})),i.d(e,"cw",(function(){return at})),i.d(e,"ch",(function(){return nt})),i.d(e,"gameLoop",(function(){return xt})),i.d(e,"gameRestart",(function(){return Ct}));const ht=document.querySelector("canvas"),rt=ht.getContext("2d"),at=ht.width-239,nt=ht.height;let ot=!1,ct=!1,ut=!1,pt=new o(50,50),wt=new Image;wt.src="../src/walls/background.jpg";let dt=new u,gt=new w,mt=dt.addWallsRect(),ft=gt.addWallsCircle(),yt=new S(24,pt,dt.wallsRect,gt.wallsCircle);const xt=()=>{if(!0===P)return E.play(),rt.clearRect(0,0,at,nt),rt.drawImage(O,0,0),rt.drawImage(W,400,50),rt.drawImage(z,q[0],N[0]),rt.drawImage(A,q[1],N[1]),rt.drawImage(_,q[2],N[2]),B[0]&&rt.drawImage(j,q[0],N[0]),B[1]&&rt.drawImage(G,q[1],N[1]),B[2]&&rt.drawImage(H,q[2],N[2]),void requestAnimationFrame(xt);rt.drawImage(wt,0,0),pt.move(),pt.tailMove(),gt.drawWalls(),dt.drawWalls(),yt.manageFood(),document.getElementById("name").innerHTML="".concat(D),document.getElementById("score-span").innerHTML="".concat(pt.tailLength),document.getElementById("multiplier-span").innerHTML="".concat(yt.multiplier),pt.draw(),pt.onHit(dt,gt)?Rt():pt.tailLength>=30&&!1===ct&&!1===ut?(()=>{rt.font="50px Visitor";let t=rt.measureText("Level 2!");rt.fillText("Level 2!",at/2-t.width/2,nt/2),rt.font="20px Visitor";let e=rt.measureText("Press Space to start");rt.fillText("Press Space to start",at/2-e.width/2,nt/2+50/1.5),st=!0})():pt.tailLength>=40&&!0===ct&&!1===ut?(()=>{st=!1;rt.font="50px Visitor";let t=rt.measureText("Level 3!");rt.fillText("Level 3!",at/2-t.width/2,nt/2),rt.font="20px Visitor";let e=rt.measureText("Press Space to start");rt.fillText("Press Space to start",at/2-e.width/2,nt/2+50/1.5),lt=!0})():pt.tailLength>=50&&!0===ut?(()=>{lt=!1;rt.font="45px Visitor";let t=rt.measureText("End of the game! Thanks for playing!");rt.fillText("End of the game! Thanks for playing!",at/2-t.width/2,nt/2),rt.font="20px Visitor";let e=rt.measureText("Press Space to play again");rt.fillText("Press Space to play again",at/2-e.width/2,nt/2+50/1.5),it=!0,ht.addEventListener("mousemove",K),ht.addEventListener("mouseup",X),et(!0)})():requestAnimationFrame(xt)},Rt=()=>{rt.font="50px Visitor";let t=rt.measureText("Game Over");rt.fillText("Game Over",at/2-t.width/2,nt/2),rt.font="20px Visitor";let e=rt.measureText("Press Space to restart");rt.fillText("Press Space to restart",at/2-e.width/2,nt/2+50/1.5),ot=!0},Ct=()=>{ot=!1,(t=>{st=t})(!1),(t=>{lt=t})(!1),(t=>{it=t})(!1),ct=!1,ut=!1,rt.clearRect(0,0,at,nt),pt=new o(50,50),gt=new w,dt=new u,ft=gt.addWallsCircle(),mt=dt.addWallsRect(),yt=new S(24,pt,mt,ft),(wt=new Image).src="../src/walls/background.jpg",E.play(),requestAnimationFrame(xt)};ht.addEventListener("mousemove",K),ht.addEventListener("mouseup",X),document.addEventListener("keypress",t=>{let{keyCode:e}=t;console.log(e),!1===P&&(65!==e&&97!=e||"RIGHT"==pt.direction||null===pt.prevDirection||(pt.setDirection(pt.direction),pt.setDirection("LEFT")),68!==e&&100!=e||"LEFT"==pt.direction||(pt.setprevDirection(pt.direction),null!==pt.prevDirection||(pt.prevDirection=""),pt.setDirection("RIGHT")),87!==e&&119!=e||"DOWN"==pt.direction||null===pt.prevDirection||(pt.setprevDirection(pt.direction),pt.setDirection("UP")),83!==e&&115!=e||"UP"==pt.direction||(pt.setprevDirection(pt.direction),null!==pt.prevDirection||(pt.prevDirection=""),pt.setDirection("DOWN")),107!==e&&75!==e||pt.expandSnake(),109!==e&&77!==e||((F=!F)||M.pause(),F&&M.play())),82!==e&&114!==e||(et(!1),Ct()),32===e&&(ot&&Ct(),st&&(pt=new o(50,50),rt.clearRect(0,0,at,nt),gt=new w,dt=new u,ft=gt.addWallsCircle_level2(),mt=dt.addWallsRect_level2(),yt=new S(24,pt,mt,ft),(wt=new Image).src="../src/walls/background.jpg",ct=!0,requestAnimationFrame(xt)),lt&&(rt.clearRect(0,0,at,nt),pt=new o(50,50),gt=new w,dt=new u,ft=gt.addWallsCircle_level3(),mt=dt.addWallsRect_level3(),yt=new S(24,pt,mt,ft),(wt=new Image).src="../src/walls/background.jpg",ut=!0,requestAnimationFrame(xt)),it&&Ct())}),requestAnimationFrame(xt)}]);