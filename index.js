!function(t){var e={};function i(s){if(e[s])return e[s].exports;var l=e[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)i.d(s,l,function(e){return t[e]}.bind(null,l));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=8)}([function(t,e,i){t.exports=i.p+"f81c04b5873247fa51ee4de659e2232d.jpg"},function(t,e,i){t.exports=i.p+"20ca9d6524ae759dcbfd35826620e77f.png"},function(t,e,i){t.exports=i.p+"4fd0c7125e392afe9c92f3e9a7655427.png"},function(t,e,i){t.exports=i.p+"d59d46e55e357d5a53910e989a4854b0.png"},function(t,e,i){t.exports=i.p+"677bf360cf075a5e86ac77ae0e534065.png"},function(t,e,i){t.exports=i.p+"3e88e5115e3382f4cc4966fc9a786b56.png"},function(t,e,i){t.exports=i.p+"20bdf927181eaf1577a3914bf7ec1890.png"},function(t,e,i){t.exports=i.p+"ef06920803f7356ef5268e6fdb9962da.png"},function(t,e,i){"use strict";i.r(e);const s=new Image;s.src="/src/snake-img/head-left.png";const l=new Image;l.src="/src/snake-img/head-right.png";const h=new Image;h.src="/src/snake-img/head-up.png";const r=new Image;r.src="/src/snake-img/head-down.png";const a=new Image;a.src="/src/snake-img/tail.png";const n=1.2;var o=class{constructor(t,e){this.x=t,this.y=e,this.speed=3,this.cell=20,this.direction=null,this.prevDirection=null,this.tailLength=0,this.tail=[]}draw(){for(let t=0;t<this.tail.length-1;t++)yt.drawImage(a,this.tail[t].x,this.tail[t].y,this.cell*n,this.cell*n);"LEFT"===this.direction?yt.drawImage(s,this.tail[this.tail.length-1].x,this.tail[this.tail.length-1].y,this.cell*n,this.cell*n):"RIGHT"===this.direction?yt.drawImage(l,this.tail[this.tail.length-1].x,this.tail[this.tail.length-1].y,this.cell*n,this.cell*n):"UP"===this.direction?yt.drawImage(h,this.tail[this.tail.length-1].x,this.tail[this.tail.length-1].y,this.cell*n,this.cell*n):"DOWN"===this.direction?yt.drawImage(r,this.tail[this.tail.length-1].x,this.tail[this.tail.length-1].y,this.cell*n,this.cell*n):yt.drawImage(l,this.tail[this.tail.length-1].x,this.tail[this.tail.length-1].y,this.cell*n,this.cell*n)}setDirection(t){this.direction=t}setprevDirection(t){this.prevDirection=t}expandSnake(){this.tailLength++}move(){this.direction&&("LEFT"===this.direction?this.x-=this.speed:"RIGHT"===this.direction?this.x+=this.speed:"UP"===this.direction?this.y-=this.speed:"DOWN"===this.direction&&(this.y+=this.speed))}onHit(t,e){let i=e.wallsCircle.concat(t.wallsRect);if(this.x<0||this.y<0||this.x+this.cell>Rt||this.y+this.cell>Ct)return!0;let s=Math.ceil(3*this.cell/this.speed);for(let t=0;t<this.tailLength-s;t++){if("UP"===this.prevDirection&&("LEFT"===this.direction||"RIGHT"===this.direction)){if(this.x>this.tail[t].x&&this.x<this.tail[t].x+this.cell&&this.y>this.tail[t].y&&this.y<this.tail[t].y+this.cell)return!0;if(this.x+this.cell>this.tail[t].x&&this.x+this.cell<this.tail[t].x+this.cell&&this.y>this.tail[t].y&&this.y<this.tail[t].y+this.cell)return!0}if("DOWN"===this.prevDirection&&("LEFT"===this.direction||"RIGHT"===this.direction)){if(this.x>this.tail[t].x&&this.x<this.tail[t].x+this.cell&&this.y+this.cell>this.tail[t].y&&this.y+this.cell<this.tail[t].y+this.cell)return!0;if(this.x+this.cell>this.tail[t].x&&this.x+this.cell<this.tail[t].x+this.cell&&this.y+this.cell>this.tail[t].y&&this.y+this.cell<this.tail[t].y+this.cell)return!0}if("RIGHT"===this.prevDirection&&("UP"===this.direction||"DOWN"===this.direction)){if(this.x+this.cell>this.tail[t].x&&this.x+this.cell<this.tail[t].x+this.cell&&this.y>this.tail[t].y&&this.y<this.tail[t].y+this.cell)return!0;if(this.x+this.cell>this.tail[t].x&&this.x+this.cell<this.tail[t].x+this.cell&&this.y+this.cell>this.tail[t].y&&this.y+this.cell<this.tail[t].y+this.cell)return!0}if("LEFT"===this.prevDirection&&("UP"===this.direction||"DOWN"===this.direction)){if(this.x>this.tail[t].x&&this.x<this.tail[t].x+this.cell&&this.y>this.tail[t].y&&this.y<this.tail[t].y+this.cell)return!0;if(this.x>this.tail[t].x&&this.x<this.tail[t].x+this.cell&&this.y+this.cell>this.tail[t].y&&this.y+this.cell<this.tail[t].y+this.cell)return!0}}for(let t=0;t<i.length;t++)if("rect"===i[t].type){if(this.x>i[t].x&&this.x<i[t].x+i[t].length&&this.y>i[t].y&&this.y<i[t].y+i[t].height)return!0;if(this.x+this.cell>i[t].x&&this.x+this.cell<i[t].x+i[t].length&&this.y>i[t].y&&this.y<i[t].y+i[t].height)return!0;if(this.x>i[t].x&&this.x<i[t].x+i[t].length&&this.y+this.cell>i[t].y&&this.y+this.cell<i[t].y+i[t].height)return!0;if(this.x+this.cell>i[t].x&&this.x+this.cell<i[t].x+i[t].length&&this.y+this.cell>i[t].y&&this.y+this.cell<i[t].y+i[t].height)return!0}else{let e;if((e=(this.x-i[t].x)**2+(this.y-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x+this.cell-i[t].x)**2+(this.y-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x-i[t].x)**2+(this.y+this.cell-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x+this.cell-i[t].x)**2+(this.y+this.cell-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x+this.cell/2-i[t].x)**2+(this.y-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x+this.cell/2-i[t].x)**2+(this.y+this.cell-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x+this.cell-i[t].x)**2+(this.y+this.cell/2-i[t].y)**2)<=i[t].radius**2)return!0;if((e=(this.x-i[t].x)**2+(this.y+this.cell/2-i[t].y)**2)<=i[t].radius**2)return!0}return!1}tailMove(){for(let t=0;t<this.tail.length-1;t++)this.tail[t]=this.tail[t+1];this.tail[this.tailLength]={x:this.x,y:this.y}}};class c{constructor(t,e){this.x=t,this.y=e,this.length=100,this.height=40,this.radius=this.height/2,this.time=null,this.upperRow=Ct/3,this.bottomRow=2*Ct/3,this.wallsRect=[],this.type="rect"}drawRect(){yt.fillStyle="black",yt.fillRect(this.x,this.y,this.length,this.height)}addWallsRect(){return this.wallsRect.push(new c(5*Rt/12,this.upperRow)),this.wallsRect.push(new c(9.5*Rt/12+3*this.radius,this.upperRow)),this.wallsRect.push(new c(2.5*Rt/12,this.bottomRow)),this.wallsRect.push(new c(2.5*Rt/12+this.length+6*this.radius,this.bottomRow)),this.wallsRect}addWallsRect_level2(){return this.upperRow=Ct/5,this.wallsRect.push(new c(1.5*Rt/12+3*this.radius,this.upperRow)),this.wallsRect.push(new c(7*Rt/12,this.upperRow)),this.wallsRect.push(new c(7*Rt/12+this.length+6*this.radius,this.upperRow)),this.wallsRect.push(new c(1.5*Rt/12,this.upperRow+Ct/5)),this.wallsRect.push(new c(1.5*Rt/12+this.length+3*this.radius,this.upperRow+Ct/5)),this.wallsRect.push(new c(7*Rt/12+7*this.radius,this.upperRow+Ct/5)),this.wallsRect.push(new c(Rt/12-this.radius,this.upperRow+2*Ct/5)),this.wallsRect.push(new c(Rt/12+this.length+2*this.radius,this.upperRow+2*Ct/5)),this.wallsRect.push(new c(5.5*Rt/12,this.upperRow+2*Ct/5)),this.wallsRect.push(new c(5.5*Rt/12+this.length+2*this.radius,this.upperRow+2*Ct/5)),this.wallsRect.push(new c(5.5*Rt/12+2*this.length+8*this.radius,this.upperRow+2*Ct/5)),this.wallsRect.push(new c(6*Rt/12+3*this.radius,this.upperRow+3*Ct/5)),this.wallsRect.push(new c(6*Rt/12+11*this.radius,this.upperRow+3*Ct/5)),this.wallsRect}addWallsRect_level3(){return this.upperRow=Ct/5,this.wallsRect.push(new c(Rt/12,this.upperRow)),this.wallsRect.push(new c(Rt/12+11*this.radius,this.upperRow)),this.wallsRect.push(new c(7.5*Rt/12,this.upperRow)),this.wallsRect.push(new c(1.5*Rt/12+3*this.radius,this.upperRow+Ct/5)),this.wallsRect.push(new c(.5*Rt/12,this.upperRow+2*Ct/5)),this.wallsRect.push(new c(.5*Rt/12+11*this.radius,this.upperRow+2*Ct/5)),this.wallsRect.push(new c(8*Rt/12,this.upperRow+2*Ct/5)),this.wallsRect.push(new c(8*Rt/12+this.length+3*this.radius,this.upperRow+2*Ct/5)),this.wallsRect.push(new c(3.5*Rt/12+3*this.radius,this.upperRow+3*Ct/5)),this.wallsRect.push(new c(3.5*Rt/12+11*this.radius,this.upperRow+3*Ct/5)),this.wallsRect}drawWalls(){let t=0;for(;t<this.wallsRect.length;t++)"rect"===this.wallsRect[t].type&&(yt.beginPath(),this.wallsRect[t].drawRect(),yt.closePath());t=0}drawText(){yt.font="300px bold serif",yt.fillText("S",Rt/12,Ct/2.5),yt.fillText("N",5*Rt/12,Ct/2.5),yt.fillText("A",9*Rt/12,Ct/2.5),yt.fillText("K",3*Rt/12,2.2*Ct/2.5),yt.fillText("E",7*Rt/12,2.2*Ct/2.5)}async wallsChange(){var t;console.log("dziala"),await(t=1e4,new Promise(e=>setTimeout(e,t))),console.log("po 10s")}}var u=c;class p extends u{constructor(t,e){super(t,e),this.length=length,this.radius=this.height/2,this.upperRowCircle=this.upperRow+this.radius,this.bottomRowCircle=this.bottomRow+this.radius,this.wallsCircle=[],this.type="circl"}drawCirc(){yt.fillStyle="black",yt.arc(this.x,this.y,this.radius,0,2*Math.PI),yt.fill()}addWallsCircle(){return this.wallsCircle.push(new p(Rt/12,this.upperRowCircle)),this.wallsCircle.push(new p(Rt/12+4*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(Rt/12+8*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(Rt/12+8*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(5*Rt/12+this.length+3*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(9.5*Rt/12,this.upperRowCircle)),this.wallsCircle.push(new p(2.5*Rt/12+this.length+3*this.radius,this.bottomRowCircle)),this.wallsCircle.push(new p(8.5*Rt/12,this.bottomRowCircle)),this.wallsCircle}addWallsCircle_level2(){return this.upperRow=Ct/5,this.upperRowCircle=this.upperRow+this.radius,this.wallsCircle.push(new p(1.5*Rt/12,this.upperRowCircle)),this.wallsCircle.push(new p(1.5*Rt/12+11*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(1.5*Rt/12+15*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(7*Rt/12+8*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(7*Rt/12,this.upperRowCircle+Ct/5)),this.wallsCircle.push(new p(7*Rt/12+4*this.radius,this.upperRowCircle+Ct/5)),this.wallsCircle.push(new p(7*Rt/12+15*this.radius,this.upperRowCircle+Ct/5)),this.wallsCircle.push(new p(5.5*Rt/12+15*this.radius,this.upperRowCircle+2*Ct/5)),this.wallsCircle.push(new p(1.5*Rt/12,this.upperRowCircle+3*Ct/5)),this.wallsCircle.push(new p(1.5*Rt/12+4*this.radius,this.upperRowCircle+3*Ct/5)),this.wallsCircle.push(new p(1.5*Rt/12+8*this.radius,this.upperRowCircle+3*Ct/5)),this.wallsCircle.push(new p(6*Rt/12,this.upperRowCircle+3*Ct/5)),this.wallsCircle.push(new p(6*Rt/12+2*this.length+19*this.radius,this.upperRowCircle+3*Ct/5)),this.wallsCircle}addWallsCircle_level3(){return this.upperRow=Ct/5,this.upperRowCircle=this.upperRow+this.radius,this.wallsCircle.push(new p(Rt/12+8*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(Rt/12+19*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(7.5*Rt/12+8*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(7.5*Rt/12+12*this.radius,this.upperRowCircle)),this.wallsCircle.push(new p(1.5*Rt/12,this.upperRowCircle+Ct/5)),this.wallsCircle.push(new p(1.5*Rt/12+this.length+11*this.radius,this.upperRowCircle+Ct/5)),this.wallsCircle.push(new p(8*Rt/12,this.upperRowCircle+Ct/5)),this.wallsCircle.push(new p(8*Rt/12+4*this.radius,this.upperRowCircle+Ct/5)),this.wallsCircle.push(new p(8*Rt/12+8*this.radius,this.upperRowCircle+Ct/5)),this.wallsCircle.push(new p(.5*Rt/12+8*this.radius,this.upperRowCircle+2*Ct/5)),this.wallsCircle.push(new p(.5*Rt/12+19*this.radius,this.upperRowCircle+2*Ct/5)),this.wallsCircle.push(new p(3.5*Rt/12,this.upperRowCircle+3*Ct/5)),this.wallsCircle.push(new p(3.5*Rt/12+2*this.length+19*this.radius,this.upperRowCircle+3*Ct/5)),this.wallsCircle}drawWalls(){let t=0;for(;t<this.wallsCircle.length;t++)"circl"===this.wallsCircle[t].type&&(yt.beginPath(),this.wallsCircle[t].drawCirc(),yt.closePath());t=0}}var d=p;function w(t){return new Promise(e=>setTimeout(e,t))}var g=class{constructor(t,e,i,s,l){this.x=t,this.y=e,this.size=i,this.snake=s,this.foodManager=l,this.toRemove=0}draw(){yt.drawImage(this.img,this.x,this.y,this.size,this.size)}async eat(t){console.log("".concat(this.name," eaten")),this.eatFood();for(var e=0;e<t;e++)this.snake.expandSnake(),await w(150)}async doubleMultiplier(){this.foodManager.multiplier*=2,console.log(this.foodManager.multiplier),await w(1e4),this.foodManager.multiplier/=2}async irregularMove(){for(var t=0;t<20;t++)this.snake.speed*=2,await w(250),this.snake.speed/=2,await w(250)}splitSnake(){let t;t=1===this.snake.tailLength?0:this.snake.tailLength/2;for(var e=0;e<t;e++)this.snake.tail.shift(),this.snake.tailLength--}};const f=new Image;f.src="/src/foods/img/redApple.png";var m=class extends g{constructor(t,e,i,s,l){super(t,e,i,s,l),this.img=f,this.name="Normal Food"}eatFood(){}};const x=new Image;x.src="/src/foods/img/greenApple.png";var y=class extends g{constructor(t,e,i,s,l){super(t,e,i,s,l),this.img=x,this.name="Combo Food"}async eatFood(){this.foodManager.recentlyEaten.every(t=>"Combo Food"===t.name)&&this.doubleMultiplier()}};const R=new Image;R.src="/src/foods/img/goldenApple.png";var C=class extends g{constructor(t,e,i,s,l){super(t,e,i,s,l),this.img=R,this.name="Super Food"}eatFood(){this.foodManager.maxFoodCount++}};const v=new Image;v.src="/src/foods/img/rottenApple.png";var I=class extends g{constructor(t,e,i,s,l){super(t,e,i,s,l),this.img=v,this.name="Weakening Food"}async eatFood(){this.irregularMove()}};const k=new Image;k.src="/src/foods/img/pinkApple.png";var T=class extends g{constructor(t,e,i,s,l){super(t,e,i,s,l),this.img=k,this.name="Split Food"}async eatFood(){this.splitSnake()}};var b=class{constructor(t,e,i,s){this.foodOnMap=[],this.recentlyEaten=[new m(0,0,0),new m(0,0,0),new m(0,0,0)],this.maxFoodCount=3,this.foodSize=t,this.multiplier=1,this.snake=e,this.wallsRect=i,this.wallsCircle=s,this.refreshFood()}headEat(){this.foodOnMap=this.foodOnMap.filter(t=>!(t.x+6<=this.snake.x+this.snake.cell&&t.x+t.size-6>=this.snake.x&&t.y+6<=this.snake.y+this.snake.cell&&t.y+t.size-6>=this.snake.y)||(this.recentlyEaten.shift(),this.recentlyEaten.push(t),t.eat(this.multiplier),!1))}placeApple(){let t,e;do{t=Math.floor(Math.random()*(Rt-this.foodSize)),e=Math.floor(Math.random()*(Ct-this.foodSize))}while(this.wallsRect.some(i=>t+this.foodSize+5>i.x&&t<i.x+i.length+5&&e+this.foodSize+5>i.y&&e<i.y+i.height+5)||this.wallsCircle.some(i=>t+this.foodSize+5>i.x-i.radius&&t<i.x+i.radius+5&&e+this.foodSize+5>i.y-i.radius&&e<i.y+i.radius+5));let i=Math.floor(100*Math.random());i<42?this.foodOnMap.push(new m(t,e,this.foodSize,this.snake,this)):i<84?this.foodOnMap.push(new y(t,e,this.foodSize,this.snake,this)):i<94?this.foodOnMap.push(new I(t,e,this.foodSize,this.snake,this)):i<97?this.foodOnMap.push(new C(t,e,this.foodSize,this.snake,this)):this.foodOnMap.push(new T(t,e,this.foodSize,this.snake,this))}foodGenerator(){this.foodOnMap.length<this.maxFoodCount&&this.placeApple()}drawFood(){this.foodOnMap.forEach(t=>{t.draw()})}async refreshFood(){this.foodOnMap.splice(0,1);let t=Math.floor(1e4*Math.random());var e;await(e=7500+t,new Promise(t=>setTimeout(t,e))),this.refreshFood()}manageFood(){this.headEat(),this.foodGenerator(),this.drawFood()}},S=i(0),M=i.n(S),L=i(1),F=i.n(L),E=i(2),D=i.n(E),P=i(3),O=i.n(P),W=i(4),z=i.n(W),A=i(5),_=i.n(A),j=i(6),G=i.n(j),H=i(7),q=i.n(H);(new Audio).src="../src/menu-img/audio.mp3";let N,V;(new Audio).src="../src/menu-img/rattlesnake.mp3";let U="Gamer",B=!0,K=new Image,X=new Image,Y=new Image,J=new Image,Q=new Image,Z=new Image,$=new Image,tt=new Image;K.src=M.a,X.src=F.a,Y.src=D.a,J.src=O.a,Q.src=z.a,Z.src=_.a,$.src=G.a,tt.src=q.a;let et=[384,298,320],it=[300,380,460],st=[192,364,320],lt=[80,80,80],ht=[!1,!1,!1];const rt=t=>{N=t.pageX-xt.getBoundingClientRect().left,V=t.pageY-xt.getBoundingClientRect().top;for(let t=0;t<et.length;t++)ht[t]=N>et[t]&&N<et[t]+st[t]&&(V>it[t]+20&&V<it[t]+lt[t]-10)},at=()=>{for(let t=0;t<et.length;t++)N>et[t]&&N<et[t]+st[t]&&V>it[t]+20&&V<it[t]+lt[t]-10&&(ht[0]&&(console.log("play"),B=!1,xt.removeEventListener("mousemove",rt),xt.removeEventListener("mouseup",at)),ht[1]&&(console.log("settings"),pt()),ht[2]&&(console.log("credits"),dt()))};let nt=document.querySelector(".modalSettings"),ot=document.querySelector(".close-button-settings"),ct=document.querySelector(".modalCredits"),ut=document.querySelector(".close-button-credits");const pt=()=>{nt.classList.toggle("show-modal"),U=document.getElementById("playerName").value},dt=()=>{ct.classList.toggle("show-modal")},wt=t=>{B=t};ot.addEventListener("click",pt),ut.addEventListener("click",dt),window.addEventListener("click",t=>{t.target===nt&&pt(),t.target===ct&&dt()});let gt=!1,ft=!1,mt=!1;i.d(e,"canvas",(function(){return xt})),i.d(e,"ctx",(function(){return yt})),i.d(e,"cw",(function(){return Rt})),i.d(e,"ch",(function(){return Ct})),i.d(e,"gameLoop",(function(){return Dt})),i.d(e,"gameRestart",(function(){return Ot}));const xt=document.querySelector("canvas"),yt=xt.getContext("2d"),Rt=xt.width-239,Ct=xt.height;let vt=!1,It=!1,kt=!1,Tt=new o(50,50),bt=new Image;bt.src="../src/walls/background.jpg";let St=new u,Mt=new d,Lt=St.addWallsRect(),Ft=Mt.addWallsCircle(),Et=new b(24,Tt,St.wallsRect,Mt.wallsCircle);const Dt=()=>{if(!0===B)return yt.clearRect(0,0,Rt,Ct),yt.drawImage(K,0,0),yt.drawImage(X,400,50),yt.drawImage(Y,et[0],it[0]),yt.drawImage(J,et[1],it[1]),yt.drawImage(Q,et[2],it[2]),ht[0]&&yt.drawImage(Z,et[0],it[0]),ht[1]&&yt.drawImage($,et[1],it[1]),ht[2]&&yt.drawImage(tt,et[2],it[2]),void requestAnimationFrame(Dt);yt.drawImage(bt,0,0),Tt.move(),Tt.tailMove(),Mt.drawWalls(),St.drawWalls(),Et.manageFood(),document.getElementById("name").innerHTML="".concat(U),document.getElementById("score-span").innerHTML="".concat(Tt.tailLength),document.getElementById("multiplier-span").innerHTML="".concat(Et.multiplier),Tt.draw(),Tt.onHit(St,Mt)?Pt():Tt.tailLength>=30&&!1===It&&!1===kt?(()=>{yt.font="50px Visitor";let t=yt.measureText("Level 2!");yt.fillText("Level 2!",Rt/2-t.width/2,Ct/2),yt.font="20px Visitor";let e=yt.measureText("Press Space to start");yt.fillText("Press Space to start",Rt/2-e.width/2,Ct/2+50/1.5),ft=!0})():Tt.tailLength>=40&&!0===It&&!1===kt?(()=>{ft=!1;yt.font="50px Visitor";let t=yt.measureText("Level 3!");yt.fillText("Level 3!",Rt/2-t.width/2,Ct/2),yt.font="20px Visitor";let e=yt.measureText("Press Space to start");yt.fillText("Press Space to start",Rt/2-e.width/2,Ct/2+50/1.5),mt=!0})():Tt.tailLength>=50&&!0===kt?(()=>{mt=!1;yt.font="45px Visitor";let t=yt.measureText("End of the game! Thanks for playing!");yt.fillText("End of the game! Thanks for playing!",Rt/2-t.width/2,Ct/2),yt.font="20px Visitor";let e=yt.measureText("Press Space to play again");yt.fillText("Press Space to play again",Rt/2-e.width/2,Ct/2+50/1.5),gt=!0,xt.addEventListener("mousemove",rt),xt.addEventListener("mouseup",at),wt(!0)})():requestAnimationFrame(Dt)},Pt=()=>{yt.font="50px Visitor";let t=yt.measureText("Game Over");yt.fillText("Game Over",Rt/2-t.width/2,Ct/2),yt.font="20px Visitor";let e=yt.measureText("Press Space to restart");yt.fillText("Press Space to restart",Rt/2-e.width/2,Ct/2+50/1.5),vt=!0},Ot=()=>{vt=!1,(t=>{ft=t})(!1),(t=>{mt=t})(!1),(t=>{gt=t})(!1),It=!1,kt=!1,yt.clearRect(0,0,Rt,Ct),Tt=new o(50,50),Mt=new d,St=new u,Ft=Mt.addWallsCircle(),Lt=St.addWallsRect(),Et=new b(24,Tt,Lt,Ft),(bt=new Image).src="../src/walls/background.jpg",requestAnimationFrame(Dt)};xt.addEventListener("mousemove",rt),xt.addEventListener("mouseup",at),document.addEventListener("keypress",t=>{let{keyCode:e}=t;console.log(e),!1===B&&(65!==e&&97!=e||"RIGHT"==Tt.direction||null===Tt.prevDirection||(Tt.setDirection(Tt.direction),Tt.setDirection("LEFT")),68!==e&&100!=e||"LEFT"==Tt.direction||(Tt.setprevDirection(Tt.direction),null!==Tt.prevDirection||(Tt.prevDirection=""),Tt.setDirection("RIGHT")),87!==e&&119!=e||"DOWN"==Tt.direction||null===Tt.prevDirection||(Tt.setprevDirection(Tt.direction),Tt.setDirection("UP")),83!==e&&115!=e||"UP"==Tt.direction||(Tt.setprevDirection(Tt.direction),null!==Tt.prevDirection||(Tt.prevDirection=""),Tt.setDirection("DOWN")),107!==e&&75!==e||Tt.expandSnake()),82!==e&&114!==e||(wt(!1),Ot()),32===e&&(vt&&Ot(),ft&&(Tt=new o(50,50),yt.clearRect(0,0,Rt,Ct),Mt=new d,St=new u,Ft=Mt.addWallsCircle_level2(),Lt=St.addWallsRect_level2(),Et=new b(24,Tt,Lt,Ft),(bt=new Image).src="../src/walls/background.jpg",It=!0,requestAnimationFrame(Dt)),mt&&(yt.clearRect(0,0,Rt,Ct),Tt=new o(50,50),Mt=new d,St=new u,Ft=Mt.addWallsCircle_level3(),Lt=St.addWallsRect_level3(),Et=new b(24,Tt,Lt,Ft),(bt=new Image).src="../src/walls/background.jpg",kt=!0,requestAnimationFrame(Dt)),gt&&Ot())}),requestAnimationFrame(Dt)}]);